import{d as D,b as J,A as d,c as r,e as b,E as O,G as Z,g as o,w as i,h as v,H as $,o as s,k as u,u as e,I as j,j as g,J as z,y as h,Z as G,x as C,K as I,i as f,L as m,N as K,$ as P,T as W,O as q,R as M,S as Q,U as X,V as Y,p as ee,W as se}from"./index-4772fb21.js";import{u as te}from"./usePageTitle-4307680d.js";const oe={class:"flow-runs__list"},ne={class:"flow-runs__list-controls"},le={class:"flow-runs__list-controls--right"},de=D({__name:"FlowRuns",setup(ue){const F=$(),c=J(),_=d(c.flowRuns.getFlowRunsCount,[{}]),x=r(()=>_.executed),V=r(()=>_.response===0),p=b(),S=O(p,1200),{filter:t,isCustomFilter:N}=Z({flowRuns:{nameLike:S}}),w={interval:3e4},R=d(c.flowRuns.getFlowRunsCount,[t],w),T=r(()=>R.response),B=d(c.ui.getFlowRunHistory,[t],w),A=r(()=>B.response??[]),y=d(c.flowRuns.getFlowRuns,[t],w),k=r(()=>y.response??[]),n=b([]);function H(){F.push(se.flowRuns())}const L=()=>{n.value=[],y.refresh(),R.refresh()};return te("Flow Runs"),(ae,l)=>{const U=v("p-button"),E=v("p-layout-default");return s(),o(E,{class:"flow-runs"},{header:i(()=>[u(e(j))]),default:i(()=>[e(x)?(s(),g(h,{key:0},[e(V)?(s(),o(e(z),{key:0})):(s(),g(h,{key:1},[u(e(G)),e(C).md?(s(),o(e(I),{key:0,history:e(A),"start-date":e(t).flowRuns.expectedStartTimeAfter,"end-date":e(t).flowRuns.expectedStartTimeBefore,class:"flow-runs__chart"},null,8,["history","start-date","end-date"])):f("",!0),m("div",oe,[m("div",ne,[m("div",le,[n.value.length==0?(s(),o(e(K),{key:0,count:e(T),label:"Flow run"},null,8,["count"])):(s(),o(e(P),{key:1,count:n.value.length},null,8,["count"])),u(e(W),{selected:n.value,onDelete:L},null,8,["selected"])]),e(C).md?(s(),o(e(q),{key:0,modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=a=>p.value=a),placeholder:"Search by run name",label:"Search by run name"},null,8,["modelValue"])):f("",!0),u(e(M),{modelValue:e(t).sort,"onUpdate:modelValue":l[1]||(l[1]=a=>e(t).sort=a)},null,8,["modelValue"])]),u(e(Q),{selected:n.value,"onUpdate:selected":l[2]||(l[2]=a=>n.value=a),"flow-runs":e(k)},null,8,["selected","flow-runs"]),e(k).length?f("",!0):(s(),o(e(X),{key:0},Y({_:2},[e(N)?{name:"actions",fn:i(()=>[u(U,{size:"sm",secondary:"",onClick:H},{default:i(()=>[ee(" Clear Filters ")]),_:1})]),key:"0"}:void 0]),1024))])],64))],64)):f("",!0)]),_:1})}}});export{de as default};
