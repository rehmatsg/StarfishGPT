import{d as S,a as A,b as C,c as n,x as V,ag as d,a5 as j,u as t,g as l,w as e,i as r,h as c,H as B,o as i,k as u,ah as F,ai as f,V as O,p as R,aj as H,t as J,f as L,ak as P,al as W,ad as $,W as q}from"./index-4772fb21.js";import{u as z}from"./usePageTitle-4307680d.js";const Q=S({__name:"TaskRun",setup(E){const g=B(),p=A("taskRunId"),k=C(),m=n(()=>{const a=["Logs","Artifacts","Task Inputs"];return V.xl||a.push("Details"),a}),v=n(()=>p.value?[p.value]:null),x=d(k.taskRuns.getTaskRun,v,{interval:3e4}),s=n(()=>x.response),o=n(()=>{var a;return(a=s.value)==null?void 0:a.flowRunId}),h=n(()=>o.value?[o.value]:null),y=d(k.flowRuns.getFlowRun,h),_=n(()=>{var a;return(a=s.value)!=null&&a.taskInputs?JSON.stringify(s.value.taskInputs,void 0,2):"{}"});function T(){y.refresh(),g.push(q.flowRun(o.value))}const w=n(()=>{var a;return(a=s.value)==null?void 0:a.stateType});j(w);const I=n(()=>s.value?`Task Run: ${s.value.name}`:"Task Run");return z(I),(a,G)=>{const b=c("p-code-highlight"),D=c("p-tabs"),N=c("p-layout-well");return t(s)?(i(),l(N,{key:0,class:"task-run"},{header:e(()=>[u(t(F),{"task-run-id":t(s).id,onDelete:T},null,8,["task-run-id"])]),well:e(()=>[u(t(f),{alternate:"","task-run":t(s)},null,8,["task-run"])]),default:e(()=>[u(D,{tabs:t(m)},O({details:e(()=>[u(t(f),{"task-run":t(s)},null,8,["task-run"])]),logs:e(()=>[u(t(P),{"task-run":t(s)},null,8,["task-run"])]),artifacts:e(()=>[t(s)?(i(),l(t(W),{key:0,"task-run":t(s)},null,8,["task-run"])):r("",!0)]),"task-inputs":e(()=>[t(s)?(i(),l(t($),{key:0,"text-to-copy":t(_)},{default:e(()=>[u(b,{lang:"json",text:t(_),class:"task-run__inputs"},null,8,["text"])]),_:1},8,["text-to-copy"])):r("",!0)]),_:2},[t(s)?{name:"task-inputs-heading",fn:e(()=>[R(" Task inputs "),u(t(H),{title:"Task Inputs"},{default:e(()=>[R(J(t(L).info.taskInput),1)]),_:1})]),key:"0"}:void 0]),1032,["tabs"])]),_:1})):r("",!0)}}});export{Q as default};
